#:kivy 1.9.1
#:import ContourPlot kivy.garden.graph.ContourPlot

<MyButton@Button>:
    text_size: self.size
    font_size: '25sp'
    markup: True
    halign: 'center'
    valign: 'middle'
    bold: True

<MyText@TextInput>:
    text_size: self.size
    font_size: '15sp'
    markup: True
    cursor_blink: True
    write_tab: False
    input_filter: 'float'

<MyLabel@Label>:
    text_size: self.size
    font_size: '20sp'
    markup: True
    halign: 'right'
    valign: 'middle'
    
<ScatterTextWidget>:
    orientation: 'vertical'
    canvas:
        Color: 
            rgba: 0.05,0.05,0.24,0.7
        Rectangle:
            pos: self.pos
            size: self.size

    BoxLayout:
        orientation: 'vertical'
        GridLayout:
            rows: 1
            cols: 2
            padding: 5
    ## Ti, Ta, dt, ds, q''', h, Material, Shape??, epsilon, Tsurr

            GridLayout:
                cols: 3
                rows: 5
                padding: 5
                spacing: 10
                row_default_height: 30
                row_force_default: True

## Labels for header row
                Label:
                    bold: True
                    text_size: self.size
                    font_size: '30sp'
                    text: "Material"
                    halign: 'center'
                Label:  
                    bold: True
                    text_size: self.size
                    font_size: '30sp'
                    text: "Ambient"
                    halign: 'center'
                Label:
                    bold: True
                    text_size: self.size
                    font_size: '30sp'    
                    text: "Shape"
                    halign: 'center'

## Start of input range

## Ti
                GridLayout:
                    cols: 2
                    rows: 1
                    padding: 5
                    spacing: 10
                    row_default_height: 30
                    row_force_default: True

                    MyLabel:
                        text: 'T[sub]iniital[/sub] (C)'
                    MyText:
                        id: Ti
                        text: '25'
                        on_focus: None

## Tambient
                GridLayout:
                    cols: 2
                    rows: 1
                    padding: 5
                    spacing: 10
                    row_default_height: 30
                    row_force_default: True

                    MyLabel:
                        text: 'T[sub]ambient[/sub] (C)'
                    MyText:
                        id: Ta
                        text: '200'
                        on_focus: None
                        ## sz.text = str(float(sz.text)*float(sz2.text))
## dt
                GridLayout:
                    cols: 2
                    rows: 1
                    padding: 5
                    spacing: 10
                    row_default_height: 30
                    row_force_default: True

                    MyLabel:
                        text: 'timestep (s)'
                    MyText:
                        id: dt
                        text: '0.001'
                        on_focus: None
## Epsilon
                GridLayout:
                    cols: 2
                    rows: 1
                    padding: 5
                    spacing: 10
                    row_default_height: 30
                    row_force_default: True

                    MyLabel:
                        text: 'Emissivity'
                    MyText:
                        id: ep
                        text: '0.05'
                        on_focus: None

## h
                GridLayout:
                    cols: 2
                    rows: 1
                    padding: 5
                    spacing: 10
                    row_default_height: 30
                    row_force_default: True

                    MyLabel:
                        text: 'h (W/m[sup]2[/sup]K)'
                    MyText:
                        id: h
                        text: '10'
                        on_focus: None

## ds
                GridLayout:
                    cols: 2
                    rows: 1
                    padding: 5
                    spacing: 10
                    row_default_height: 30
                    row_force_default: True

                    MyLabel:
                        text: 'gridstep (m)'
                    MyText:
                        id: ds
                        text: '0.005'
                        on_focus: None

## q'''
                GridLayout:
                    cols: 2
                    rows: 1
                    padding: 5
                    spacing: 10
                    row_default_height: 30
                    row_force_default: True

                    MyLabel:
                        text: 'heat gen (W/m[sup]3[/sup])'
                    MyText:
                        id: qprime
                        text: '0.0'
                        on_focus: None

## tfinal
                GridLayout:
                    cols: 2
                    rows: 1
                    padding: 5
                    spacing: 10
                    row_default_height: 30
                    row_force_default: True
                    MyLabel:
                        text: 't[sub]final[/sub] (s)'
                    MyText:
                        id: tf
                        text: '50'
                        on_focus: None
                    
## LWH
                GridLayout:
                    cols: 6
                    rows: 1
                    padding: 5
                    spacing: 10
                    row_default_height: 30
                    row_force_default: True
                    MyLabel:
                        text: 'L'
                    MyText:
                        id: L
                        text: '0.2'
                        on_focus: None
                    MyLabel:
                        text: 'W'
                    MyText:
                        id: W
                        text: '0.2'
                        on_focus: None
                    MyLabel:
                        text: 'H'
                    MyText:
                        id: H
                        text: '0.5'
                        on_focus: None
                
                Spinner:
                    id: dropmat
                    text: root.mats[0]
                    values: root.mats

                MyLabel:
                    text: "-------------------"
                    halign: "center"

                Spinner:
                    id: drop
                    text: 'Brick'
                    values: ['Brick', 'Ziggurat']

            GridLayout:
                cols: 1
                rows: 3
                row_default_height: 40
                row_force_default: True
                size_hint_x: .15

                MyButton:
                    text: "Start"
                    on_press: root.start()
                MyButton:
                    text: "Pause"
                    on_press: root.pause()       
                MyButton:
                    text: "Stop"
                    on_press: root.shutoff()  

        GridLayout:
            cols: 2
            rows: 1
            Graph:
                id: graphTotal
                xlabel: "x"
                ylabel: "y"
                title: "Shape of item"

            Graph:
                id: graphcontour
                xlabel: "x"
                ylabel: "y"
                title: "Temperature (C)"


                